{"ast":null,"code":"import { h, ref, computed, watch, onBeforeUnmount, inject, getCurrentInstance } from 'vue';\nimport QResizeObserver from '../resize-observer/QResizeObserver.js';\nimport { createComponent } from '../../utils/private/create.js';\nimport { hUniqueSlot } from '../../utils/private/render.js';\nimport { layoutKey } from '../../utils/private/symbols.js';\nexport default createComponent({\n  name: 'QHeader',\n  props: {\n    modelValue: {\n      type: Boolean,\n      default: true\n    },\n    reveal: Boolean,\n    revealOffset: {\n      type: Number,\n      default: 250\n    },\n    bordered: Boolean,\n    elevated: Boolean,\n    heightHint: {\n      type: [String, Number],\n      default: 50\n    }\n  },\n  emits: ['reveal', 'focusin'],\n\n  setup(props, {\n    slots,\n    emit\n  }) {\n    const {\n      proxy: {\n        $q\n      }\n    } = getCurrentInstance();\n    const $layout = inject(layoutKey, () => {\n      console.error('QHeader needs to be child of QLayout');\n    });\n    const size = ref(parseInt(props.heightHint, 10));\n    const revealed = ref(true);\n    const fixed = computed(() => props.reveal === true || $layout.view.value.indexOf('H') > -1 || $q.platform.is.ios && $layout.isContainer.value === true);\n    const offset = computed(() => {\n      if (props.modelValue !== true) {\n        return 0;\n      }\n\n      if (fixed.value === true) {\n        return revealed.value === true ? size.value : 0;\n      }\n\n      const offset = size.value - $layout.scroll.value.position;\n      return offset > 0 ? offset : 0;\n    });\n    const hidden = computed(() => props.modelValue !== true || fixed.value === true && revealed.value !== true);\n    const revealOnFocus = computed(() => props.modelValue === true && hidden.value === true && props.reveal === true);\n    const classes = computed(() => 'q-header q-layout__section--marginal ' + (fixed.value === true ? 'fixed' : 'absolute') + '-top' + (props.bordered === true ? ' q-header--bordered' : '') + (hidden.value === true ? ' q-header--hidden' : '') + (props.modelValue !== true ? ' q-layout--prevent-focus' : ''));\n    const style = computed(() => {\n      const view = $layout.rows.value.top,\n            css = {};\n\n      if (view[0] === 'l' && $layout.left.space === true) {\n        css[$q.lang.rtl === true ? 'right' : 'left'] = `${$layout.left.size}px`;\n      }\n\n      if (view[2] === 'r' && $layout.right.space === true) {\n        css[$q.lang.rtl === true ? 'left' : 'right'] = `${$layout.right.size}px`;\n      }\n\n      return css;\n    });\n\n    function updateLayout(prop, val) {\n      $layout.update('header', prop, val);\n    }\n\n    function updateLocal(prop, val) {\n      if (prop.value !== val) {\n        prop.value = val;\n      }\n    }\n\n    function onResize({\n      height\n    }) {\n      updateLocal(size, height);\n      updateLayout('size', height);\n    }\n\n    function onFocusin(evt) {\n      if (revealOnFocus.value === true) {\n        updateLocal(revealed, true);\n      }\n\n      emit('focusin', evt);\n    }\n\n    watch(() => props.modelValue, val => {\n      updateLayout('space', val);\n      updateLocal(revealed, true);\n      $layout.animate();\n    });\n    watch(offset, val => {\n      updateLayout('offset', val);\n    });\n    watch(() => props.reveal, val => {\n      val === false && updateLocal(revealed, props.modelValue);\n    });\n    watch(revealed, val => {\n      $layout.animate();\n      emit('reveal', val);\n    });\n    watch($layout.scroll, scroll => {\n      props.reveal === true && updateLocal(revealed, scroll.direction === 'up' || scroll.position <= props.revealOffset || scroll.position - scroll.inflectionPoint < 100);\n    });\n    const instance = {};\n    $layout.instances.header = instance;\n    props.modelValue === true && updateLayout('size', size.value);\n    updateLayout('space', props.modelValue);\n    updateLayout('offset', offset.value);\n    onBeforeUnmount(() => {\n      if ($layout.instances.header === instance) {\n        $layout.instances.header = void 0;\n        updateLayout('size', 0);\n        updateLayout('offset', 0);\n        updateLayout('space', false);\n      }\n    });\n    return () => {\n      const child = hUniqueSlot(slots.default, []);\n      props.elevated === true && child.push(h('div', {\n        class: 'q-layout__shadow absolute-full overflow-hidden no-pointer-events'\n      }));\n      child.push(h(QResizeObserver, {\n        debounce: 0,\n        onResize\n      }));\n      return h('header', {\n        class: classes.value,\n        style: style.value,\n        onFocusin\n      }, child);\n    };\n  }\n\n});","map":{"version":3,"names":["h","ref","computed","watch","onBeforeUnmount","inject","getCurrentInstance","QResizeObserver","createComponent","hUniqueSlot","layoutKey","name","props","modelValue","type","Boolean","default","reveal","revealOffset","Number","bordered","elevated","heightHint","String","emits","setup","slots","emit","proxy","$q","$layout","console","error","size","parseInt","revealed","fixed","view","value","indexOf","platform","is","ios","isContainer","offset","scroll","position","hidden","revealOnFocus","classes","style","rows","top","css","left","space","lang","rtl","right","updateLayout","prop","val","update","updateLocal","onResize","height","onFocusin","evt","animate","direction","inflectionPoint","instance","instances","header","child","push","class","debounce"],"sources":["/Users/hedermilani/Projetos/Projetos Vue/quasar/node_modules/quasar/src/components/header/QHeader.js"],"sourcesContent":["import { h, ref, computed, watch, onBeforeUnmount, inject, getCurrentInstance } from 'vue'\n\nimport QResizeObserver from '../resize-observer/QResizeObserver.js'\n\nimport { createComponent } from '../../utils/private/create.js'\nimport { hUniqueSlot } from '../../utils/private/render.js'\nimport { layoutKey } from '../../utils/private/symbols.js'\n\nexport default createComponent({\n  name: 'QHeader',\n\n  props: {\n    modelValue: {\n      type: Boolean,\n      default: true\n    },\n    reveal: Boolean,\n    revealOffset: {\n      type: Number,\n      default: 250\n    },\n    bordered: Boolean,\n    elevated: Boolean,\n\n    heightHint: {\n      type: [ String, Number ],\n      default: 50\n    }\n  },\n\n  emits: [ 'reveal', 'focusin' ],\n\n  setup (props, { slots, emit }) {\n    const { proxy: { $q } } = getCurrentInstance()\n\n    const $layout = inject(layoutKey, () => {\n      console.error('QHeader needs to be child of QLayout')\n    })\n\n    const size = ref(parseInt(props.heightHint, 10))\n    const revealed = ref(true)\n\n    const fixed = computed(() =>\n      props.reveal === true\n      || $layout.view.value.indexOf('H') > -1\n      || ($q.platform.is.ios && $layout.isContainer.value === true)\n    )\n\n    const offset = computed(() => {\n      if (props.modelValue !== true) {\n        return 0\n      }\n      if (fixed.value === true) {\n        return revealed.value === true ? size.value : 0\n      }\n      const offset = size.value - $layout.scroll.value.position\n      return offset > 0 ? offset : 0\n    })\n\n    const hidden = computed(() => props.modelValue !== true\n      || (fixed.value === true && revealed.value !== true)\n    )\n\n    const revealOnFocus = computed(() =>\n      props.modelValue === true && hidden.value === true && props.reveal === true\n    )\n\n    const classes = computed(() =>\n      'q-header q-layout__section--marginal '\n      + (fixed.value === true ? 'fixed' : 'absolute') + '-top'\n      + (props.bordered === true ? ' q-header--bordered' : '')\n      + (hidden.value === true ? ' q-header--hidden' : '')\n      + (props.modelValue !== true ? ' q-layout--prevent-focus' : '')\n    )\n\n    const style = computed(() => {\n      const\n        view = $layout.rows.value.top,\n        css = {}\n\n      if (view[ 0 ] === 'l' && $layout.left.space === true) {\n        css[ $q.lang.rtl === true ? 'right' : 'left' ] = `${ $layout.left.size }px`\n      }\n      if (view[ 2 ] === 'r' && $layout.right.space === true) {\n        css[ $q.lang.rtl === true ? 'left' : 'right' ] = `${ $layout.right.size }px`\n      }\n\n      return css\n    })\n\n    function updateLayout (prop, val) {\n      $layout.update('header', prop, val)\n    }\n\n    function updateLocal (prop, val) {\n      if (prop.value !== val) {\n        prop.value = val\n      }\n    }\n\n    function onResize ({ height }) {\n      updateLocal(size, height)\n      updateLayout('size', height)\n    }\n\n    function onFocusin (evt) {\n      if (revealOnFocus.value === true) {\n        updateLocal(revealed, true)\n      }\n\n      emit('focusin', evt)\n    }\n\n    watch(() => props.modelValue, val => {\n      updateLayout('space', val)\n      updateLocal(revealed, true)\n      $layout.animate()\n    })\n\n    watch(offset, val => {\n      updateLayout('offset', val)\n    })\n\n    watch(() => props.reveal, val => {\n      val === false && updateLocal(revealed, props.modelValue)\n    })\n\n    watch(revealed, val => {\n      $layout.animate()\n      emit('reveal', val)\n    })\n\n    watch($layout.scroll, scroll => {\n      props.reveal === true && updateLocal(revealed,\n        scroll.direction === 'up'\n        || scroll.position <= props.revealOffset\n        || scroll.position - scroll.inflectionPoint < 100\n      )\n    })\n\n    const instance = {}\n\n    $layout.instances.header = instance\n    props.modelValue === true && updateLayout('size', size.value)\n    updateLayout('space', props.modelValue)\n    updateLayout('offset', offset.value)\n\n    onBeforeUnmount(() => {\n      if ($layout.instances.header === instance) {\n        $layout.instances.header = void 0\n        updateLayout('size', 0)\n        updateLayout('offset', 0)\n        updateLayout('space', false)\n      }\n    })\n\n    return () => {\n      const child = hUniqueSlot(slots.default, [])\n\n      props.elevated === true && child.push(\n        h('div', {\n          class: 'q-layout__shadow absolute-full overflow-hidden no-pointer-events'\n        })\n      )\n\n      child.push(\n        h(QResizeObserver, {\n          debounce: 0,\n          onResize\n        })\n      )\n\n      return h('header', {\n        class: classes.value,\n        style: style.value,\n        onFocusin\n      }, child)\n    }\n  }\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}